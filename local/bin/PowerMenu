#!/usr/bin/env bash
set -euo pipefail

OPTIONS=(
  "󰍁"
  ""
  "󰗽"
  "󰜉"
  "󰐥"
)

rofi_menu() {
  rofi -dmenu \
    -no-click-to-exit \
    -p "Goodbye ${USER}" \
    -theme "$HOME/.config/rofi/PowerMenu.rasi" \
    -mesg "Uptime: $(uptime -p | sed -e 's/up //g')"
}

chosen=$(printf "%s\n" "${OPTIONS[@]}" | rofi_menu)

case $chosen in
"󰐥")
  systemctl poweroff
  ;;
"󰜉")
  systemctl reboot
  ;;
"󰍁")
  hyprlock
  ;;
"")
  MediaControl --stop
  systemctl suspend
  ;;
"󰗽")
  hyprctl dispatch exit
  ;;
esac

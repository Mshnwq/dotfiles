#!/usr/bin/env bash
set -euo pipefail

OPTIONS=(
  "󰍁"
  ""
  "󰗽"
  "󰜉"
  "󰐥"
)

chosen=$(
  printf "%s\n" "${OPTIONS[@]}" | rofi -dmenu \
    -no-click-to-exit -theme "$HOME/.config/rofi/PowerMenu.rasi"
)

case $chosen in
"󰐥")
  systemctl poweroff
  ;;
"󰜉")
  systemctl reboot
  ;;
"󰍁")
  # TODO: broken nix
  # hyprlock
  ;;
"")
  MediaControl --stop && systemctl suspend
  ;;
"󰗽")
  hyprctl dispatch exit
  ;;
esac
